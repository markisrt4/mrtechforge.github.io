---
layout: default
title: "Products"
permalink: /products/
---

<section class="forge-products">
  <h1 class="page-title">Products & Services</h1>
  <p class="page-intro">
    Every tool, tag, and service here is built to simplify your digital life and strengthen your privacy —
    all forged with precision and purpose.
  </p>

  <div class="product-grid">
    {% for item in site.data.products %}
    <div class="product-card">
      <img src="{{ site.baseurl }}{{ item.image }}" alt="{{ item.name }}">
      <h3>{{ item.name }}</h3>
      <p>{{ item.description }}</p>
      <span class="price">${{ item.price | round: 2 }}</span>
      <button class="btn-glow add-to-cart"
        data-name="{{ item.name }}"
        data-price="{{ item.price }}">Add to Cart</button>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Cart Drawer -->
<div id="cart" class="cart">
  <h2>Shopping Cart</h2>
  <ul id="cart-items"></ul>
  <p><strong>Total:</strong> $<span id="cart-total">0.00</span></p>
  <button id="checkout" class="btn-glow checkout-btn">Checkout</button>
</div>

<!-- ======= CART LOGIC ======= -->
<script>
const cart = [];

function updateCart() {
  const cartItems = document.getElementById('cart-items');
  const total = document.getElementById('cart-total');
  cartItems.innerHTML = '';
  let sum = 0;
  cart.forEach(item => {
    sum += item.price * item.quantity;
    cartItems.innerHTML += `
      <li>
        ${item.name} ×${item.quantity}
        <button class="remove-item" data-name="${item.name}">x</button>
      </li>`;
  });
  total.textContent = sum.toFixed(2);
  localStorage.setItem('forge_cart', JSON.stringify(cart));
}

document.addEventListener('click', e => {
  if (e.target.classList.contains('add-to-cart')) {
    const name = e.target.dataset.name;
    const price = parseFloat(e.target.dataset.price);
    const existing = cart.find(i => i.name === name);
    existing ? existing.quantity++ : cart.push({ name, price, quantity: 1 });
    updateCart();
  }

  if (e.target.classList.contains('remove-item')) {
    const name = e.target.dataset.name;
    const index = cart.findIndex(i => i.name === name);
    if (index > -1) cart.splice(index, 1);
    updateCart();
  }
});

document.getElementById('checkout').addEventListener('click', async () => {
  if (!cart.length) return alert("Your cart is empty.");
  const res = await fetch('https://api.mrtechforge.com/create-checkout-session', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ items: cart })
  });
  const data = await res.json();
  if (data.url) window.location = data.url;
});

window.addEventListener('DOMContentLoaded', () => {
  const saved = JSON.parse(localStorage.getItem('forge_cart'));
  if (saved) {
    saved.forEach(i => cart.push(i));
    updateCart();
  }
});
</script>

<!-- ======= FORGE STYLE ======= -->
<style>
.forge-products {
  text-align: center;
  padding: 2rem;
  color: var(--forge-gray, #cfd8dc);
}

.page-title {
  font-size: 2.2rem;
  color: var(--forge-accent, #00b8d4);
  margin-bottom: 0.5rem;
}

.page-intro {
  font-size: 1.1rem;
  max-width: 700px;
  margin: 0 auto 2rem;
}

.product-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  justify-items: center;   /* centers the cards */
  padding: 1rem;
}

.product-card {
  background: #1a1a1a;
  border-radius: 14px;
  padding: 1.2rem;
  box-shadow: 0 0 10px rgba(0, 184, 212, 0.3);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.product-card:hover {
  transform: scale(1.03);
  box-shadow: 0 0 15px rgba(0, 184, 212, 0.6);
}

.product-card img {
  width: 160px;
  height: auto;
  border-radius: 8px;
  margin-bottom: 0.8rem;
}

.price {
  display: block;
  color: var(--forge-hotmetal, #ffa000);
  font-weight: 700;
  margin: 0.6rem 0;
}

.btn-glow {
  background: linear-gradient(90deg, #007ea7, #00b8d4);
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 0.5rem 1.2rem;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 0 8px rgba(0, 184, 212, 0.4);
  transition: all 0.3s ease-in-out;
}
.btn-glow:hover {
  background: linear-gradient(90deg, #00b8d4, #00acc1);
  box-shadow: 0 0 15px rgba(0, 184, 212, 0.8);
}

.cart {
  position: fixed;
  bottom: 0;
  right: 0;
  background: #111;
  color: #ccc;
  padding: 1rem;
  border-top-left-radius: 12px;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
  max-width: 300px;
  width: 100%;
}

.cart h2 {
  color: var(--forge-accent, #00b8d4);
  margin-bottom: 0.5rem;
}

#cart-items {
  list-style: none;
  padding: 0;
  margin: 0 0 1rem 0;
}

#cart-items li {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.3rem;
}

.remove-item {
  background: none;
  border: none;
  color: #f44336;
  cursor: pointer;
  font-weight: bold;
}

.checkout-btn {
  width: 100%;
}
</style>