<nav class="forge-nav">
  {% for item in site.data.navigation.main %}
    {% if item.children %}
      <div class="nav-item dropdown">

        <!-- TOP-LEVEL BUTTON -->
        <button class="dropdown-parent" type="button">
          <span class="dropdown-parent-text">{{ item.title }}</span>
          <span class="dropdown-arrow">â–¼</span>
        </button>

        <!-- DESKTOP DROPDOWN -->
        <div class="dropdown-content desktop-only">

          {% if item.url %}
            <a href="{{ item.url }}" class="dropdown-overview">
              {{ item.title }} Overview
            </a>
          {% endif %}

          {% for child in item.children %}

            <a href="{{ child.url }}" data-child="true">
              {{ child.title }}
            </a>

            {% if child.children %}
              {% for grand in child.children %}
                <a href="{{ grand.url }}" data-grandchild="true">
                  {{ grand.title }}
                </a>
              {% endfor %}
            {% endif %}

          {% endfor %}
        </div>

        <!-- MOBILE ACCORDION SUBMENU -->
        <ul class="mobile-submenu">

          {% if item.url %}
            <li><a href="{{ item.url }}">{{ item.title }} Overview</a></li>
          {% endif %}

          {% for child in item.children %}
            <li class="mobile-child">
              <a href="{{ child.url }}">{{ child.title }}</a>
            </li>

            {% if child.children %}
              {% for grand in child.children %}
                <li class="mobile-grandchild">
                  <a href="{{ grand.url }}">{{ grand.title }}</a>
                </li>
              {% endfor %}
            {% endif %}

          {% endfor %}
        </ul>

      </div>
    {% else %}
      <a href="{{ item.url }}">{{ item.title }}</a>
    {% endif %}
  {% endfor %}
</nav>