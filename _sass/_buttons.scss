/* ==========================================================
   M.R. TECHFORGE — BUTTONS (Forge Blue Glow Canonical)
   File: _sass/_buttons.scss

   Goals:
   1) Canonical site-wide button: .forge-btn
      - Forge-blue glowing background
      - Hotmetal/orange border
      - Silver/white glowing text
      - Spark sweep on hover
   2) Desktop: force 1-line buttons (no wrapping) + ellipsis
   3) Keep legacy compatibility:
      - .btn remains a base utility
      - .btn-forge aliases the new .forge-btn look (full width in cards)
   ========================================================== */


/* ----------------------------------------------------------
   Base utility button (generic)
---------------------------------------------------------- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;

  text-decoration: none;
  font-weight: 700;

  /* Consistent sizing */
  min-height: 3.15rem;
  line-height: 1.1;
  text-align: center;

  padding: 0.74rem 1.05rem;
  border-radius: 18px;
  box-sizing: border-box;
  max-width: 100%;

  transition:
    transform 160ms ease,
    box-shadow 260ms ease,
    border-color 260ms ease,
    filter 260ms ease;
}

.btn:active {
  transform: translateY(1px);
}

/* icon */
.btn .mini-ico {
  font-size: 1.15rem;
  line-height: 1;
}


/* ==========================================================
   CANONICAL FORGE BUTTON
   - Use this everywhere going forward
   ========================================================== */

.forge-btn {
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;

  padding: 0.78rem 1.12rem;
  min-height: 3.15rem;
  line-height: 1.1;
  border-radius: 18px;

  font-family: "Orbitron", sans-serif;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-decoration: none;
  text-align: center;

  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  user-select: none;

  /* Readable everywhere */
  color: rgba(245, 250, 255, 0.96);
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.68),
    0 0 12px rgba(210, 225, 245, 0.22);

  /* Forge-blue surface */
  background:
    radial-gradient(120% 140% at 30% 20%,
      rgba(90, 200, 255, 0.22) 0%,
      rgba(0, 150, 255, 0.16) 28%,
      rgba(0, 60, 120, 0.62) 65%,
      rgba(6, 10, 18, 0.92) 100%
    ),
    linear-gradient(135deg,
      rgba(10, 24, 44, 0.94),
      rgba(6, 10, 18, 0.97)
    );

  /* Hotmetal border */
  border: 1px solid rgba(var(--forge-hotmetal-rgb), 0.70);

  /* Depth + subtle glow */
  box-shadow:
    0 12px 26px rgba(0, 0, 0, 0.48),
    0 0 18px rgba(0, 150, 255, 0.22),
    inset 0 0 0 1px rgba(255, 255, 255, 0.08);

  transition:
    transform 160ms ease,
    box-shadow 260ms ease,
    border-color 260ms ease,
    filter 260ms ease;
}

/* Keep content inheriting correctly */
.forge-btn,
.forge-btn * {
  color: inherit;
}

/* Energy ring (slow cycle) */
.forge-btn::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 20px;
  pointer-events: none;

  background: linear-gradient(
    90deg,
    rgba(0, 170, 255, 0.60),
    rgba(210, 225, 245, 0.42),
    rgba(var(--forge-hotmetal-rgb), 0.34),
    rgba(210, 225, 245, 0.42),
    rgba(0, 170, 255, 0.60)
  );
  background-size: 260% 100%;

  opacity: 0.44;
  filter: blur(12px);
  animation: forgeBtnGlow 12.5s linear infinite;

  transition:
    opacity 650ms ease,
    filter 650ms ease;
}

/* Inner bevel / glass */
.forge-btn::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: 17px;
  pointer-events: none;

  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.10),
    inset 0 0 26px rgba(255, 255, 255, 0.06);
  opacity: 0.98;
}

/* Spark sweep layer (activated on hover) */
.forge-btn .forge-btn__spark {
  display: none; /* helper element not required */
}

.forge-btn > * {
  position: relative;
  z-index: 1;
}

/* Hover: brighter ring + spark sweep + slight lift */
.forge-btn:hover {
  transform: translateY(-1px);

  border-color: rgba(var(--forge-hotmetal-rgb), 0.92);

  box-shadow:
    0 16px 34px rgba(0, 0, 0, 0.58),
    0 0 30px rgba(0, 170, 255, 0.34),
    0 0 18px rgba(var(--forge-hotmetal-rgb), 0.18),
    inset 0 0 0 1px rgba(255, 255, 255, 0.12);
}

.forge-btn:hover::before {
  opacity: 0.70;
  filter: blur(14px);
}

/* Spark sweep via background overlay */
.forge-btn:hover::after {
  /* keep bevel but add a brief sweep highlight */
  background:
    linear-gradient(
      115deg,
      transparent 30%,
      rgba(255, 255, 255, 0.12) 45%,
      rgba(var(--forge-hotmetal-rgb), 0.16) 52%,
      rgba(0, 170, 255, 0.18) 58%,
      transparent 72%
    );
  background-size: 220% 100%;
  animation: forgeSparkSweep 720ms ease-out 1;
}

.forge-btn:active {
  transform: translateY(0px);
  filter: brightness(0.98);
}

/* Keyboard accessibility */
.forge-btn:focus-visible {
  outline: 2px solid rgba(0, 170, 255, 0.78);
  outline-offset: 3px;
}

/* Animations */
@keyframes forgeBtnGlow {
  0%   { background-position: 0% 50%; }
  100% { background-position: 260% 50%; }
}

@keyframes forgeSparkSweep {
  0%   { background-position: 0% 50%; opacity: 0.0; }
  18%  { opacity: 1; }
  100% { background-position: 220% 50%; opacity: 0.0; }
}


/* ----------------------------------------------------------
   Variants (optional, but useful for hierarchy)
---------------------------------------------------------- */

/* Stronger “primary” treatment */
.forge-btn--primary {
  border-color: rgba(var(--forge-hotmetal-rgb), 0.95);

  box-shadow:
    0 14px 30px rgba(0, 0, 0, 0.54),
    0 0 26px rgba(0, 170, 255, 0.38),
    inset 0 0 0 1px rgba(255, 255, 255, 0.10);
}

.forge-btn--primary:hover {
  box-shadow:
    0 18px 38px rgba(0, 0, 0, 0.62),
    0 0 34px rgba(0, 170, 255, 0.50),
    0 0 22px rgba(var(--forge-hotmetal-rgb), 0.22),
    inset 0 0 0 1px rgba(255, 255, 255, 0.14);
}

/* Ghost / secondary */
.forge-btn--ghost {
  background: transparent;
  border: 1px solid rgba(200, 215, 235, 0.38);
  color: rgba(235, 245, 255, 0.92);

  box-shadow: none;
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.70),
    0 0 10px rgba(210, 225, 245, 0.16);
}

.forge-btn--ghost::before {
  opacity: 0.22;
  filter: blur(10px);
}

.forge-btn--ghost:hover {
  border-color: rgba(var(--forge-hotmetal-rgb), 0.72);
  box-shadow: 0 0 18px rgba(0, 170, 255, 0.20);
}


/* ----------------------------------------------------------
   Legacy compatibility
   - Keep old markup working without redoing pages
---------------------------------------------------------- */

/* .btn-forge used heavily in cards: keep width:100% */
.btn-forge {
  width: 100%;
}

/* Make legacy classes look like canonical Forge button */
.btn-forge,
.btn-forge * {
  color: inherit;
}

/* Apply canonical look to .btn-forge (without requiring markup changes)
   Note: duplicating properties avoids relying on @extend in some pipelines. */
.btn-forge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;

  padding: 0.78rem 1.12rem;
  min-height: 3.15rem;
  line-height: 1.1;
  border-radius: 18px;

  font-family: "Orbitron", sans-serif;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-decoration: none;
  text-align: center;

  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  user-select: none;

  color: rgba(245, 250, 255, 0.96);
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.68),
    0 0 12px rgba(210, 225, 245, 0.22);

  background:
    radial-gradient(120% 140% at 30% 20%,
      rgba(90, 200, 255, 0.22) 0%,
      rgba(0, 150, 255, 0.16) 28%,
      rgba(0, 60, 120, 0.62) 65%,
      rgba(6, 10, 18, 0.92) 100%
    ),
    linear-gradient(135deg,
      rgba(10, 24, 44, 0.94),
      rgba(6, 10, 18, 0.97)
    );

  border: 1px solid rgba(var(--forge-hotmetal-rgb), 0.70);

  box-shadow:
    0 12px 26px rgba(0, 0, 0, 0.48),
    0 0 18px rgba(0, 150, 255, 0.22),
    inset 0 0 0 1px rgba(255, 255, 255, 0.08);

  transition:
    transform 160ms ease,
    box-shadow 260ms ease,
    border-color 260ms ease,
    filter 260ms ease;
}

/* Legacy glow ring */
.btn-forge::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 20px;
  pointer-events: none;

  background: linear-gradient(
    90deg,
    rgba(0, 170, 255, 0.60),
    rgba(210, 225, 245, 0.42),
    rgba(var(--forge-hotmetal-rgb), 0.34),
    rgba(210, 225, 245, 0.42),
    rgba(0, 170, 255, 0.60)
  );
  background-size: 260% 100%;

  opacity: 0.44;
  filter: blur(12px);
  animation: forgeBtnGlow 12.5s linear infinite;

  transition:
    opacity 650ms ease,
    filter 650ms ease;
}

/* Legacy inner bevel + spark on hover */
.btn-forge::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: 17px;
  pointer-events: none;

  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.10),
    inset 0 0 26px rgba(255, 255, 255, 0.06);
  opacity: 0.98;
}

.btn-forge > * {
  position: relative;
  z-index: 1;
}

.btn-forge:hover {
  transform: translateY(-1px);
  border-color: rgba(var(--forge-hotmetal-rgb), 0.92);

  box-shadow:
    0 16px 34px rgba(0, 0, 0, 0.58),
    0 0 30px rgba(0, 170, 255, 0.34),
    0 0 18px rgba(var(--forge-hotmetal-rgb), 0.18),
    inset 0 0 0 1px rgba(255, 255, 255, 0.12);
}

.btn-forge:hover::before {
  opacity: 0.70;
  filter: blur(14px);
}

.btn-forge:hover::after {
  background:
    linear-gradient(
      115deg,
      transparent 30%,
      rgba(255, 255, 255, 0.12) 45%,
      rgba(var(--forge-hotmetal-rgb), 0.16) 52%,
      rgba(0, 170, 255, 0.18) 58%,
      transparent 72%
    );
  background-size: 220% 100%;
  animation: forgeSparkSweep 720ms ease-out 1;
}


/* ----------------------------------------------------------
   Desktop: force single-line buttons (no wrapping)
   - Prevents mixed heights on card grids
   - Uses ellipsis if the label is too long
---------------------------------------------------------- */
@media (min-width: 900px) {
  .forge-btn,
  .btn-forge {
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}

/* Mobile/tablet: allow wrapping naturally */
@media (max-width: 899px) {
  .forge-btn,
  .btn-forge {
    white-space: normal;
  }
}


/* ----------------------------------------------------------
   Home page buttons sizing (if you use .home-btn)
---------------------------------------------------------- */
.home-btn {
  margin-left: auto;
  margin-right: auto;
  max-width: 380px;
}

@media (max-width: 420px) {
  .home-btn {
    max-width: 340px;
  }
}